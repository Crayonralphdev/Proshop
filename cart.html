<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ProShop | Cart</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
:root {
  --primary: #1f6fae;
  --accent: #f97316;
  --light: #f4f8ff;
  --dark: #0f172a;
  --card: #ffffff;
  --gray: #64748b;
}
* { box-sizing: border-box; margin: 0; padding: 0; font-family:'Poppins',sans-serif; }
body { background: var(--light); color: var(--dark); overflow-x: hidden; }

/* NAVBAR */
.navbar {
  position: fixed; top:0; left:0; width:100%;
  background: #fff; display:flex; justify-content:space-between; align-items:center;
  padding:15px 20px; box-shadow:0 2px 10px rgba(0,0,0,0.1); z-index:1000;
}
.navbar .logo { font-weight:700; font-size:22px; color:var(--primary); }

.cart-btn {
  position: relative;
  font-size: 22px;
  color: var(--primary);
  cursor: pointer;
}
.cart-count {
  position: absolute;
  top: -5px;     /* adjust bubble to sit nicely on icon */
  right: -5px;   /* adjust bubble to sit nicely on icon */
  background: var(--accent);
  color: #fff;
  font-size: 12px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: 700;
  z-index: 100;
}

/* CART CONTAINER */
.container {
  padding: 120px 20px 20px 20px;
  max-width: 800px;
  margin: 0 auto;
}

/* CART ITEMS */
.cart-item {
  display: flex;
  align-items: center;
  background: var(--card);
  border-radius: 12px;
  margin-bottom: 15px;
  padding: 10px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  gap: 10px;
  flex-wrap: wrap;
}
.cart-item img {
  width: 80px; height: 80px; object-fit: cover; border-radius: 10px;
}
.cart-details {
  flex: 1;
  min-width: 180px;
}
.cart-details p { margin:4px 0; }
.quantity-controls {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 6px;
}
.quantity-controls button {
  padding: 4px 8px; border:none; background:var(--accent);
  color:#fff; border-radius:6px; cursor:pointer;
}
.quantity-controls span { min-width:20px; text-align:center; }

/* CHECKOUT SECTION */
.checkout-section {
  margin-top: 20px;
  text-align: right;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 10px;
}
.checkout-section button {
  padding: 10px 20px;
  background: var(--primary);
  color:#fff;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-size:16px;
}
#totalPrice {
  font-weight: 600;
  font-size: 18px;
  max-width: 100%;
  word-break: break-word;
}

/* RESPONSIVE */
@media (max-width: 500px){
  .cart-item { flex-direction: column; align-items: flex-start; }
  .cart-item img { margin-bottom: 10px; }
  .checkout-section { align-items: stretch; width: 100%; }
  .checkout-section button { width: 100%; }
}
</style>
</head>
<body>

<div class="navbar">
  <div class="logo">ProShop</div>
  <div class="cart-btn">
    <i class="fa-solid fa-cart-shopping"></i>
    <div class="cart-count" id="cartCount">0</div>
  </div>
</div>

<div class="container" id="cartContainer">
  <!-- Cart items appear here -->
</div>

<div class="checkout-section">
  <p id="totalPrice">Total: ₦0</p>
  <button onclick="checkout()">Proceed to Checkout</button>
</div>

<script>
// Load cart from localStorage
let cart = JSON.parse(localStorage.getItem('cart')) || [];
const cartContainer = document.getElementById('cartContainer');
const cartCount = document.getElementById('cartCount');
const totalPriceEl = document.getElementById('totalPrice');

function updateCartDisplay() {
  cartContainer.innerHTML = '';
  let total = 0;
  cart.forEach((item, index) => {
    total += item.price * item.qty;
    const div = document.createElement('div');
    div.className = 'cart-item';
    div.innerHTML = `
      <img src="${item.img}" alt="${item.name}">
      <div class="cart-details">
        <p>${item.name}</p>
        <p>₦${item.price}</p>
        <div class="quantity-controls">
          <button onclick="decreaseQty(${index})">-</button>
          <span>${item.qty}</span>
          <button onclick="increaseQty(${index})">+</button>
        </div>
      </div>
    `;
    cartContainer.appendChild(div);
  });

  const totalItems = cart.reduce((sum, item) => sum + item.qty, 0);
  cartCount.textContent = totalItems;
  totalPriceEl.textContent = `Total: ₦${total}`;
  localStorage.setItem('cart', JSON.stringify(cart));
}

function increaseQty(i) {
  cart[i].qty++;
  updateCartDisplay();
}

function decreaseQty(i) {
  if(cart[i].qty > 1) cart[i].qty--;
  else cart.splice(i, 1);
  updateCartDisplay();
}

function checkout() {
  if(cart.length === 0){
    alert("Your cart is empty!");
    return;
  }
  window.location.href = 'checkout.html';
}

// Initial render
updateCartDisplay();
</script>

</body>
</html>